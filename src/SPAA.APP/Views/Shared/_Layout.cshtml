@{
    var isAuthenticated = User.Identity.IsAuthenticated;
    var currentPath = Context.Request.Path.ToString().ToLower();
    var linkDestino = currentPath.Contains("login") ? "/Account/Register" :
                      currentPath.Contains("register") ? "/Account/Login" :
                      "/Account/Login";

    var textoLink = currentPath.Contains("login") ? "Registre-se" :
                    currentPath.Contains("register") ? "Login" :
                    "Login / Registre-se";

    var layoutTipo = ViewData["LayoutType"]?.ToString()?.ToLower()
                     ?? (currentPath.Contains("login") || currentPath.Contains("register") ? "publico" : "padrao");
}

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - SPAA.APP</title>
    <link rel="stylesheet" href="~/lib/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/SPAA.APP.styles.css" asp-append-version="true" />
    @RenderSection("Styles", required: false)
</head>
<body>

    @* Cabeçalhos diferentes por tipo de layout *@
    @if (layoutTipo == "publico")
    {
        <header class="custom-header">
            <nav class="header-content">
                <a href="#sobre" class="header-link">Sobre-nós</a>
                <a href="#docs" class="header-link">Documentação</a>
                <a href="@linkDestino" class="header-button">
                    <img src="~/assets/buttomLoginRegister.svg" alt="Ícone de usuário" class="icon" />
                    @textoLink
                </a>
            </nav>
        </header>
    }
    else if (layoutTipo == "formulario")
    {
    }
    else
    {
        <header class="custom-header">
            <nav class="header-content">
                <a href="/dashboard" class="header-link">Dashboard</a>
                <a href="/perfil" class="header-link">Perfil</a>

                @if (!isAuthenticated)
                {
                    <a href="@linkDestino" class="header-button">
                        <img src="~/assets/buttomLoginRegister.svg" alt="Ícone de usuário" class="icon" />
                        @textoLink
                    </a>
                }
                else
                {
                    <form asp-controller="Account" asp-action="Logout" method="post" style="display:inline;">
                        <button type="submit" class="header-button" style="background:none; border:none; padding:0;">
                            <img src="~/assets/buttomLoginRegister.svg" alt="Ícone de usuário" class="icon" />
                            Sair
                        </button>
                    </form>
                }
            </nav>
        </header>
    }

    <div class="container">
        @RenderBody()
    </div>

    <script src="~/lib/jquery/jquery.min.js"></script>
    <script src="~/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
